__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"getOptimalVideoQuality",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"getDurationBasedSettings",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"compressVideoForUpload",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"getUploadReadyMedia",{enumerable:!0,get:function(){return l}}),Object.defineProperty(e,"validateVideoBeforeUpload",{enumerable:!0,get:function(){return c}});const t={maxDuration:30,maxSizeMB:20,quality:'medium',maxWidth:720},o=(t,o)=>{const n=t/1048576;return n<5?{maxWidth:1080,quality:'high'}:n<25?{maxWidth:720,quality:'medium'}:{maxWidth:480,quality:'low'}},n=t=>t<=15?{maxWidth:1080,quality:'high'}:t<=30?{maxWidth:720,quality:'medium'}:{maxWidth:480,quality:'low'},u=async(o,n={})=>{const u=Object.assign({},t,n);try{const t=await s(o);if(t.duration>u.maxDuration)throw new Error(`Video too long. Maximum ${u.maxDuration} seconds allowed. Current: ${t.duration}s`);const n=t.size/1048576;if(n>u.maxSizeMB)throw new Error(`Video too large. Maximum ${u.maxSizeMB}MB allowed. Current: ${n.toFixed(1)}MB`);return{uri:o,size:t.size,duration:t.duration,compressed:n>10}}catch(t){throw console.error('Error processing video:',t),t}},s=async t=>{try{const o=await fetch(t),n=await o.blob();return{size:n.size,duration:0,width:0,height:0,mimeType:n.type}}catch(t){throw console.error('Error getting video info:',t),new Error('Could not read video file')}},l=async(t,o,n)=>{if('video'===o){const o=await u(t,n),s=await fetch(o.uri),l=await s.blob();return{blob:l,mimeType:l.type||'video/mp4',optimizedUri:o.uri,type:'video',metadata:{duration:o.duration,size:o.size,compressed:o.compressed}}}{const{getUploadReadyImage:o}=await r(d[1])(d[0],d.paths),n=await o(t);return Object.assign({},n,{type:'image',metadata:{size:n.blob.size}})}},c=async t=>{try{const o=await fetch(t),n=(await o.blob()).size/1048576;return n>30?{valid:!1,sizeMB:n,error:'Video too large. Maximum 30MB allowed.'}:n>20?{valid:!0,sizeMB:n,suggestedCompression:!0}:{valid:!0,sizeMB:n}}catch(t){return{valid:!1,sizeMB:0,error:'Could not read video file.'}}}},1432,{"0":1135,"1":1356,"paths":{}});